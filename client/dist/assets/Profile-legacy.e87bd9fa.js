System.register(["./index-legacy.f49cb8cc.js"],(function(e,l){"use strict";var n,i,r,s,a,c,t,d,o,f,m,h,p,u,x;return{setters:[e=>{n=e.G,i=e.r,r=e.j,s=e.a,a=e.H,c=e.I,t=e.M,d=e.O,o=e.l,f=e.A,m=e.h,h=e.J,p=e.F,u=e.N,x=e.U}],execute:function(){const l=({offer:e,refetch:l})=>{const{_id:o,maker:f,offerType:m,unitPrice:h,amount:p,quantity:u,minLimit:x,maxLimit:g,payMethods:v,crypto:N,fiat:b,totalAmount:y}=e,k=n((()=>d.deleteByID(o))),[w,D]=i.exports.useState(!1);return i.exports.useEffect((()=>{l(),D(!1)}),[k.isSuccess]),r("div",{className:"flex justify-between items-center bg-white shadow-customDark rounded-[20px] p-5",children:[s("div",{children:s("span",{className:"text-purple",children:o})}),s("div",{children:s("span",{className:"font-bold "+("buy"===m?"text-lightGreen":"text-red-400"),children:`${m?.[0].toUpperCase()}${m?.slice(1)}`})}),s("div",{children:r("span",{children:[h," ",b?.ticker]})}),s("div",{children:r("span",{className:"font-bold",children:[N.symbol,"/",b.ticker]})}),s("div",{children:v.map((e=>s("div",{children:s("span",{children:e?.bank?.name})})))}),r("div",{className:"flex flex-col",children:[r("span",{className:"font-bold",children:[p,"/",y," ",N.symbol]}),r("span",{className:"font-bold",children:[p/y*100,"%"]})]}),s("div",{children:s(a,{onClick:()=>D(!0),color:"bg-black",icon:s(c,{})})}),w?s(t,{close:()=>D(!1),header:"Delete this Offer?",children:s("button",{onClick:()=>k.mutate(),disabled:k.isLoading,className:"text-white p-2 w-full rounded-lg bg-red-500 font-bold hover:opacity-70",children:k.isLoading?"Deleting Offer...":"Delete"})}):null]})},g=({name:e,margin:l})=>r("div",{className:`flex items-center ${l}`,children:[s("hr",{className:"w-full"}),s("div",{className:"text-center px-4 flex-none",children:s("span",{className:"text-gray-300 select-none",children:e})}),s("hr",{className:"w-full"})]}),v=({activeOffer:e})=>{const l=o(),{_id:n,offer:i,banks:c,crypto:t,fiat:d,stage:m,roomId:h}=e,{ticker:p}=d[0],{symbol:u}=t[0],{offerType:x,unitPrice:g}=i[0];return r("div",{className:"flex justify-between items-center bg-white shadow-customDark rounded-[20px] p-5",children:[s("div",{children:s("span",{className:"text-purple",children:n})}),s("div",{children:s("span",{className:"font-bold "+("buy"===x?"text-lightGreen":"text-red-400"),children:x})}),s("div",{children:r("span",{children:[g," ",p]})}),s("div",{children:r("span",{className:"font-bold",children:[u,"/",p]})}),s("div",{children:c.map((e=>s("div",{children:s("span",{children:e.name})})))}),s("div",{children:s("span",{className:"font-bold text-purple",children:m})}),s("div",{children:s(a,{onClick:()=>{l(`/transaction/${n}`)},color:"bg-purple",icon:s("div",{className:"-rotate-90 text-white",children:s(f,{})})})})]})};e("default",(()=>{const{data:e,isSuccess:n,isLoading:i,isError:a,refetch:c,isFetching:t}=m(["get user offers"],(()=>x.getOffers()),{select:e=>e.data.offers}),{data:d,isLoading:o,isError:f,isSuccess:N}=m(["get user rooms"],(()=>x.getUserRooms()),{select:({data:e})=>e.rooms});return r("div",{children:[s(h,{fields:[{name:"Ad number",className:"flex-[1.5_0]"},{name:"Type",className:"flex-[0.5_0]"},{name:"Price",className:"flex-1"},{name:"Pair",className:"flex-1"},{name:"Pay Methods",className:"flex-1"},{name:"Info",className:"flex-1"}]}),r("section",{className:"relative",children:[d?.length?r(p,{children:[s(g,{name:"Active offers",margin:"my-5"}),f?s("p",{children:"error"}):0===d?.length?s("p",{children:"no offers"}):N?s("div",{className:"flex flex-col gap-5",children:d?.map((e=>s(v,{activeOffer:e},e._id)))}):null]}):null,s(g,{name:"My offers",margin:"my-5"}),a?s("p",{children:"error"}):0===e?.length?s(u,{}):n?s("div",{className:"flex flex-col gap-5",children:e?.map((e=>s(l,{offer:e,refetch:c},e._id)))}):null]})]})}))}}}));
